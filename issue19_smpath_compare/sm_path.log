
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   16.1   Copyright 1985-2019 StataCorp LLC
  Statistics/Data analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        https://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

Stata license: 120-user network perpetual
Serial number: 401606201670
  Licensed to: Brown University
               Brown University

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000; see help set_maxvar.

. do ".\sm_path.do" 

. clear all

. 
. import delimited "data_dynamic.csv"
(13 vars, 2,000 obs)

. 
. xtset id t
       panel variable:  id (strongly balanced)
        time variable:  t, 1 to 40
                delta:  1 unit

. 
. foreach yvar in y_base y_smooth_m y_jump_m {
  2.   
.   xtevent `yvar' x_r, policyvar("z") panelvar("id") timevar("t") ///
>     post(3) overidpost(1) pre(0) overidpre(3) norm(-1) ///
>     reghdfe
  3. 
.   xteventplot, smpath(line) ///
>     graphregion(color(white)) bgcolor(white)
  4. 
.   graph export STATA/`yvar'.png, replace width(1700) height(1214)
  5. }

No proxy or instruments provided. Implementing OLS estimator
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =      1,650
Absorbing 2 HDFE groups                           F(   9,   1559) =       1.04
                                                  Prob > F        =     0.4017
                                                  R-squared       =     0.0620
                                                  Adj R-squared   =     0.0078
                                                  Within R-sq.    =     0.0060
                                                  Root MSE        =     0.7136

------------------------------------------------------------------------------
      y_base |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    _k_eq_m4 |   .1494365   .1213376     1.23   0.218    -.0885656    .3874386
    _k_eq_m3 |   .1347584   .1584829     0.85   0.395    -.1761036    .4456204
    _k_eq_m2 |   .1025063   .1565634     0.65   0.513    -.2045908    .4096034
    _k_eq_p0 |   .0642701    .153525     0.42   0.676    -.2368672    .3654075
    _k_eq_p1 |   .3118715   .1559542     2.00   0.046     .0059694    .6177736
    _k_eq_p2 |   .2953826   .1560302     1.89   0.059    -.0106687    .6014338
    _k_eq_p3 |    .121238   .1582789     0.77   0.444    -.1892239    .4316999
    _k_eq_p4 |   .2230815   .1229985     1.81   0.070    -.0181784    .4643415
         x_r |  -.0573942   .0334981    -1.71   0.087    -.1231002    .0083118
       _cons |  -.0976271   .1092773    -0.89   0.372    -.3119731    .1167188
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
          id |        50           0          50     |
           t |        33           1          32     |
-----------------------------------------------------+

Note: Smoothest line drawn for system confidence level = 95
Order 0
Wald value 7.63073826
(file STATA/y_base.png written in PNG format)

No proxy or instruments provided. Implementing OLS estimator
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =      1,650
Absorbing 2 HDFE groups                           F(   9,   1559) =      23.39
                                                  Prob > F        =     0.0000
                                                  R-squared       =     0.3878
                                                  Adj R-squared   =     0.3525
                                                  Within R-sq.    =     0.1190
                                                  Root MSE        =     0.7138

------------------------------------------------------------------------------
  y_smooth_m |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    _k_eq_m4 |   .2881552    .121357     2.37   0.018     .0501149    .5261954
    _k_eq_m3 |   .2060081   .1585083     1.30   0.194    -.1049038      .51692
    _k_eq_m2 |   .1381209   .1565885     0.88   0.378    -.1690255    .4452672
    _k_eq_p0 |  -.1716122   .1535497    -1.12   0.264    -.4727978    .1295734
    _k_eq_p1 |  -.1238596   .1559792    -0.79   0.427    -.4298108    .1820915
    _k_eq_p2 |  -.3403392   .1560553    -2.18   0.029    -.6464396   -.0342389
    _k_eq_p3 |  -.7143965   .1583042    -4.51   0.000    -1.024908   -.4038848
    _k_eq_p4 |  -.8104353   .1230182    -6.59   0.000    -1.051734   -.5691367
         x_r |  -.0568685   .0335034    -1.70   0.090     -.122585    .0088481
       _cons |   41.93844   .1092948   383.72   0.000     41.72406    42.15282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
          id |        50           0          50     |
           t |        33           1          32     |
-----------------------------------------------------+

Note: Smoothest line drawn for system confidence level = 95
Order 0
Wald value 201.898674
Order 1
Wald value 10.4471715
(file STATA/y_smooth_m.png written in PNG format)

No proxy or instruments provided. Implementing OLS estimator
(MWFE estimator converged in 2 iterations)

HDFE Linear regression                            Number of obs   =      1,650
Absorbing 2 HDFE groups                           F(   9,   1559) =      10.08
                                                  Prob > F        =     0.0000
                                                  R-squared       =     0.1081
                                                  Adj R-squared   =     0.0566
                                                  Within R-sq.    =     0.0550
                                                  Root MSE        =     0.7138

------------------------------------------------------------------------------
    y_jump_m |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
    _k_eq_m4 |   .2881552    .121357     2.37   0.018     .0501149    .5261954
    _k_eq_m3 |   .2060081   .1585083     1.30   0.194    -.1049038      .51692
    _k_eq_m2 |   .1381209   .1565885     0.88   0.378    -.1690255    .4452672
    _k_eq_p0 |   .8283878   .1535497     5.39   0.000     .5272022    1.129573
    _k_eq_p1 |   .8761404   .1559792     5.62   0.000     .5701892    1.182092
    _k_eq_p2 |   .6596608   .1560553     4.23   0.000     .3535604    .9657611
    _k_eq_p3 |   .2856035   .1583042     1.80   0.071    -.0249082    .5961152
    _k_eq_p4 |   .1895647   .1230182     1.54   0.124     -.051734    .4308633
         x_r |  -.0568685   .0335034    -1.70   0.090     -.122585    .0088481
       _cons |   41.93844   .1092948   383.72   0.000     41.72406    42.15282
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
          id |        50           0          50     |
           t |        33           1          32     |
-----------------------------------------------------+

Note: Smoothest line drawn for system confidence level = 95
Order 0
Wald value 79.5463007
Order 1
Wald value 79.3976856
Order 2
Wald value 56.5516686
Order 3
Wald value 28.2553911
Order 4
Wald value 22.863699
Order 5
Wald value 8.93509886
Iteration 0:   f(p) =  8372.1962  
Iteration 1:   f(p) =  7962.0567  (backed up)
Iteration 2:   f(p) =  7523.6941  (backed up)
Iteration 3:   f(p) =  6606.4663  (backed up)
Iteration 4:   f(p) =  6236.0219  
Iteration 5:   f(p) =  5978.2373  
Iteration 6:   f(p) =  5856.0666  (backed up)
Iteration 7:   f(p) =  5614.7756  
Iteration 8:   f(p) =  5480.9041  (backed up)
Iteration 9:   f(p) =  5146.5908  
Iteration 10:  f(p) =  4965.7167  (backed up)
Iteration 11:  f(p) =  4656.1514  
Iteration 12:  f(p) =  4112.2016  
Iteration 13:  f(p) =  3994.0414  (backed up)
Iteration 14:  f(p) =  3483.0397  
Iteration 15:  f(p) =  3387.3064  (backed up)
Iteration 16:  f(p) =   3152.553  
Iteration 17:  f(p) =  3065.5327  (backed up)
Iteration 18:  f(p) =  2986.0424  (backed up)
Iteration 19:  f(p) =  2908.0855  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 20:  f(p) =  2872.7614  (backed up)
Iteration 21:  f(p) =  2872.6495  (backed up)
Iteration 22:  f(p) =  2867.1414  (backed up)
Iteration 23:  f(p) =  2852.5195  (backed up)
Iteration 24:  f(p) =  2797.3544  
DFP stepping has contracted, resetting DFP Hessian
Iteration 25:  f(p) =  2746.3848  (backed up)
Iteration 26:  f(p) =  2746.1471  (backed up)
Iteration 27:  f(p) =   2743.702  (backed up)
Iteration 28:  f(p) =  2733.0027  (backed up)
Iteration 29:  f(p) =  2682.8046  
Iteration 30:  f(p) =  2616.3972  (backed up)
Iteration 31:  f(p) =  2555.6178  (backed up)
Iteration 32:  f(p) =  2503.3361  (backed up)
Iteration 33:  f(p) =   2496.242  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 34:  f(p) =  2434.2055  
Iteration 35:  f(p) =  2434.1103  (backed up)
Iteration 36:  f(p) =  2432.8038  (backed up)
Iteration 37:  f(p) =  2424.7569  (backed up)
Iteration 38:  f(p) =  2382.6932  
Iteration 39:  f(p) =  2317.2046  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 40:  f(p) =  2262.9686  (backed up)
Iteration 41:  f(p) =  2262.7423  (backed up)
Iteration 42:  f(p) =  2261.7881  (backed up)
Iteration 43:  f(p) =   2255.964  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 44:  f(p) =  2236.7407  (backed up)
Iteration 45:  f(p) =  2236.6114  (backed up)
Iteration 46:  f(p) =  2235.9643  (backed up)
Iteration 47:  f(p) =  2231.2934  (backed up)
Iteration 48:  f(p) =  2193.4061  
Iteration 49:  f(p) =  2167.9894  (backed up)
Iteration 50:  f(p) =  2145.3941  (backed up)
Iteration 51:  f(p) =   2123.164  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 52:  f(p) =  2102.0942  (backed up)
Iteration 53:  f(p) =  2102.0036  (backed up)
Iteration 54:  f(p) =  2098.8511  (backed up)
Iteration 55:  f(p) =  2097.1202  (backed up)
Iteration 56:  f(p) =  2062.3352  
DFP stepping has contracted, resetting DFP Hessian
Iteration 57:  f(p) =  2056.8919  (backed up)
Iteration 58:  f(p) =  2056.7811  (backed up)
Iteration 59:  f(p) =  2056.4758  (backed up)
Iteration 60:  f(p) =  2056.3999  (backed up)
Iteration 61:  f(p) =  2054.0213  (backed up)
Iteration 62:  f(p) =  2053.9721  (backed up)
Iteration 63:  f(p) =  2053.9407  (backed up)
Iteration 64:  f(p) =  2053.9365  
Iteration 65:  f(p) =  2053.7428  
Iteration 66:  f(p) =  2053.7081  
DFP stepping has contracted, resetting DFP Hessian
Iteration 67:  f(p) =  2053.4435  
Iteration 68:  f(p) =  2053.2922  (backed up)
Iteration 69:  f(p) =  2050.9113  (backed up)
Iteration 70:  f(p) =  2048.3804  (backed up)
Iteration 71:  f(p) =  1979.8867  
DFP stepping has contracted, resetting DFP Hessian
Iteration 72:  f(p) =  1975.0986  (backed up)
Iteration 73:  f(p) =  1975.0164  (backed up)
Iteration 74:  f(p) =  1974.6177  (backed up)
Iteration 75:  f(p) =  1966.5988  (backed up)
Iteration 76:  f(p) =  1946.1485  (backed up)
Iteration 77:  f(p) =  1928.6198  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 78:  f(p) =  1917.0596  (backed up)
Iteration 79:  f(p) =  1916.9819  (backed up)
Iteration 80:  f(p) =  1916.5331  (backed up)
Iteration 81:  f(p) =  1901.2526  (backed up)
cannot compute an improvement -- flat region encountered
Iteration 0:   f(p) =  8487.5628  
Iteration 1:   f(p) =  8013.1096  (backed up)
Iteration 2:   f(p) =  7808.7484  (backed up)
Iteration 3:   f(p) =  7729.3633  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 4:   f(p) =  7729.3633  (backed up)
Iteration 5:   f(p) =  7712.9533  (backed up)
Iteration 6:   f(p) =  7654.0966  (backed up)
Iteration 7:   f(p) =  7567.3494  (backed up)
Iteration 8:   f(p) =  7567.3494  (backed up)
Iteration 9:   f(p) =  7482.4062  (backed up)
Iteration 10:  f(p) =  7482.4062  (backed up)
Iteration 11:  f(p) =  7482.4062  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 12:  f(p) =  7482.4062  (backed up)
Iteration 13:  f(p) =  7481.4603  (backed up)
Iteration 14:  f(p) =   7475.051  (backed up)
Iteration 15:  f(p) =  7460.5742  (backed up)
Iteration 16:  f(p) =  7452.5063  (backed up)
Iteration 17:  f(p) =  7452.5063  (backed up)
Iteration 18:  f(p) =  7452.5063  (backed up)
Iteration 19:  f(p) =  7452.3255  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 20:  f(p) =  7452.3255  (backed up)
Iteration 21:  f(p) =  7452.2862  (backed up)
Iteration 22:  f(p) =   7452.145  (backed up)
Iteration 23:  f(p) =  7450.3634  (backed up)
Iteration 24:  f(p) =   7449.679  (backed up)
Iteration 25:  f(p) =   7449.679  (backed up)
DFP stepping has contracted, resetting DFP Hessian
Iteration 26:  f(p) =   7449.679  (backed up)
Iteration 27:  f(p) =  7449.6592  (backed up)
Iteration 28:  f(p) =  7449.6466  (backed up)
Iteration 29:  f(p) =  7449.6435  (backed up)
Iteration 30:  f(p) =  7449.6403  (backed up)
Iteration 31:  f(p) =  7449.6403  (backed up)
Iteration 32:  f(p) =  7449.6403  (backed up)
Iteration 33:  f(p) =  7449.6399  (backed up)
Iteration 34:  f(p) =  7449.6399  (backed up)
could not calculate numerical derivatives -- discontinuous region with missing
values encountered
could not calculate numerical derivatives -- discontinuous region with missing
values encountered
Warning: Smoothest path optimization found a flat region.
(file STATA/y_jump_m.png written in PNG format)

. 
end of do-file
